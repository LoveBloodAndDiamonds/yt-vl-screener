{% extends "layout.html" %} {% block content %}
<style>
    .page-title {
        display: none;
    }

    .guide {
        max-width: 760px;
        margin: 24px auto;
        padding: 22px 24px;
        background: #ffffff;
        border-radius: 12px;
        border: 1px solid #e6e6e6;
        box-shadow: 0 6px 18px rgba(0, 0, 0, 0.06);
        font-family: Arial, sans-serif;
        color: #1f2a37;
    }

    .guide h2 {
        margin: 0 0 12px;
        font-size: 20px;
        font-weight: 700;
    }

    .guide h3 {
        margin: 18px 0 8px;
        font-size: 16px;
        font-weight: 700;
        color: #111827;
    }

    .guide p {
        margin: 0 0 12px;
        color: #4b5563;
        font-size: 14px;
        line-height: 1.55;
    }

    .guide ul {
        margin: 0 0 12px 18px;
        padding: 0;
        font-size: 14px;
        line-height: 1.55;
        color: #374151;
    }

    .guide li {
        margin-bottom: 6px;
    }

    .formula {
        background: #f8fafc;
        border: 1px dashed #cbd5e1;
        border-radius: 10px;
        padding: 12px 14px;
        font-size: 13px;
        color: #475569;
        font-family: "Courier New", monospace;
    }

    .note {
        background: #f8fafc;
        border: 1px dashed #cbd5e1;
        border-radius: 10px;
        padding: 12px 14px;
        font-size: 13px;
        color: #475569;
    }
</style>

<div class="guide">
    <h2>Инструкция для пользователя</h2>
    <p>
        Этот проект — скринер объема. Он отслеживает необычно высокий торговый
        объем и присылает сигнал в Telegram, когда текущий объем за выбранный
        интервал сильно выше среднего объема за тот же интервал в пределах суток.
    </p>

    <h3>Как это работает простыми словами</h3>
    <ul>
        <li>Скринер постоянно получает данные по свечам и суточный объем.</li>
        <li>Считает объем за последние N секунд (интервал).</li>
        <li>Сравнивает этот объем со средним объемом за такой же интервал в сутки.</li>
        <li>Если превышение достаточно большое — отправляет сигнал.</li>
    </ul>

    <h3>Формула множителя объема</h3>
    <div class="formula">
        множитель = (объем_за_интервал / интервал) / (объем_за_сутки / 86400)
    </div>
    <p>
        Здесь 86400 — количество секунд в сутках. Если множитель равен 10, это
        значит, что объем сейчас в 10 раз выше среднего.
    </p>

    <h3>Как настроить</h3>
    <ul>
        <li>Откройте раздел <b>Настройки</b>.</li>
        <li>Заполните поля и нажмите <b>Сохранить</b>.</li>
        <li>Новые значения применяются примерно в течение 10 секунд.</li>
    </ul>

    <h3>За что отвечают настройки</h3>
    <ul>
        <li>
            <b>Интервал измерения объема, сек.</b> — за сколько секунд считать объем.
            Пример: 60 = смотрим объем за последнюю минуту.
        </li>
        <li>
            <b>Минимальный множитель объема, Х</b> — порог, при превышении которого
            приходит сигнал. Пример: 10 = сигнал, если объем в 10 раз выше среднего.
        </li>
        <li>
            <b>Таймаут между сигналами по одинаковой монете, сек.</b> — защита от
            спама. После сигнала по монете следующий придет только через указанное время.
        </li>
        <li>
            <b>Айди чата (chat_id)</b> — куда отправлять сообщения в Telegram.
            Айди можно получить через бота <b>@username_to_id_bot</b>.
        </li>
        <li>
            <b>Токен бота (bot_token)</b> — ключ вашего Telegram‑бота.
            Получается у <b>@BotFather</b>.
        </li>
    </ul>

    <h3>Как понять, что все работает</h3>
    <ul>
        <li>Сигналы должны приходить в указанный Telegram‑чат.</li>
        <li>Если сигналов нет — попробуйте снизить множитель.</li>
        <li>Проверьте, что chat_id и bot_token заполнены без ошибок.</li>
    </ul>

    <div class="note">
        Раздел <b>Логи</b> показывает подробности работы и возможные ошибки, а
        раздел <b>Система</b> — состояние сервера (CPU, память, диск).
    </div>
</div>
{% endblock %}
